# USB device (new stack)
CONFIG_USB_DEVICE_STACK_NEXT=y
CONFIG_USB_DEVICE_PRODUCT="ESP32_S3"
CONFIG_USB_DEVICE_MANUFACTURER="RAK Wireless"

# CDC ACM class
CONFIG_USB_CDC_ACM=y

# Console over USB
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_CONSOLE=y

# Logging (optional but useful)
CONFIG_LOG=y
CONFIG_LOG_MODE_DEFERRED=y

CONFIG_MICROROS_TRANSPORT_SERIAL_USB=y

CONFIG_PRINTK=y
CONFIG_LOG_DEFAULT_LEVEL=4

#Sensors
CONFIG_I2C=y
CONFIG_SENSOR=y
CONFIG_BNO055=y
CONFIG_SENSOR_LOG_LEVEL_DBG=y
CONFIG_CBPRINTF_FP_SUPPORT=y
CONFIG_CBPRINTF_COMPLETE=y
CONFIG_GPIO=y
CONFIG_IIM42652=y

CONFIG_DISPLAY=y
CONFIG_SSD1306=y
CONFIG_SSD1306_DEFAULT_CONTRAST=128
CONFIG_CHARACTER_FRAMEBUFFER=y
CONFIG_CHARACTER_FRAMEBUFFER_USE_DEFAULT_FONTS=y
CONFIG_CFB_LOG_LEVEL_INF=y

CONFIG_GNSS=y
CONFIG_GNSS_SATELLITES=y
CONFIG_MTK3333=y

CONFIG_ESP_SPIRAM=y
CONFIG_SPIRAM_MODE_OCT=y
CONFIG_ESP_SPIRAM_MEMTEST=y

CONFIG_WATCHDOG=y
CONFIG_WDT_LOG_LEVEL_INF=y
CONFIG_HWINFO=y

# Enable LED driver
CONFIG_LED=y
CONFIG_PM=n
CONFIG_PM_DEVICE=n
CONFIG_PM_DEVICE_RUNTIME=n

# SDMMC
CONFIG_FILE_SYSTEM=y
CONFIG_FAT_FILESYSTEM_ELM=y
CONFIG_FILE_SYSTEM_MKFS=y

CONFIG_DISK_ACCESS=y
CONFIG_DISK_DRIVER_SDMMC=y
CONFIG_SPI=y
CONFIG_GPIO=y
# Enable FAT Long Filename support
CONFIG_FS_FATFS_LFN=y
CONFIG_FS_FATFS_LFN_MODE_HEAP=y

# Shell access
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_FILE_SYSTEM_SHELL=y
CONFIG_KERNEL_SHELL=y


# ========== NEW USB STACK ==========
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=n

# USB Mass Storage (NEW API)
CONFIG_USBD_MSC_CLASS=y
CONFIG_USBD_MSC_LUNS_PER_INSTANCE=3
CONFIG_CDC_ACM_SERIAL_INITIALIZE_AT_BOOT=n

# USB Device Info
CONFIG_USB_DEVICE_VID=0x2FE3
CONFIG_USB_DEVICE_PID=0x0100

# Heap (USB needs more)
CONFIG_HEAP_MEM_POOL_SIZE=65536

# USB Logging
CONFIG_USB_DEVICE_LOG_LEVEL_INF=y
CONFIG_USBD_LOG_LEVEL_INF=y

